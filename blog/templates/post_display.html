{% extends "base.html" %}

{% block title %}{{ instance.post_title }} | {{ block.super}}{% endblock title %}

{% block content %}

<br>
<br>
<div class='col-sm-8 col-sm-offset-2'>
    <div class="row">
        <div style="width: 100%;">
            <div class="thumbnail">
                {% if instance.post_image %}
                <img src='{{ instance.post_image.url }}' class='img-responsive' />
                {% endif %}
                <div class="caption">
                    <h3>{{ instance.post_title }}</h3>
                    <p>{{ instance.post_content|linebreaks }}</p>
                </div>
                </a>
                <div name="buttons" allign="right" class="text-right">
                    {% if request.user.is_authenticated %}
                    <a href="{{ instance.edit_post }}" style="color: #ffffff; text-decoration:none">
                    <button type="button" class="btn btn" style="background-color: #46D117; color: #ffffff;"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></button>
                    </a>
                    <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#myModal">
                    <span class="glyphicon glyphicon-trash" aria-hidden="true"></span>
                    </button>
                    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
                        <div class="modal-dialog" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                    <h4 class="modal-title text-center" id="myModalLabel">Delete {{ instance.post_title }}?</h4>
                                </div>
                                <div class="modal-body text-center">
                                    Are you sure you want to delete this post?
                                </div>
                                <div class="modal-footer text-center" allign="center">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                                    <a href="{{ instance.delete_post }}" style="color: #ffffff; text-decoration:none">
                                    <button type="button" class="btn btn-danger">Delete Post</button>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                {% endif %}
            </div>
        </div>
    </div>
</div>

{% endblock content %}